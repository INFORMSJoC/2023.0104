<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Routingblocks class index &mdash; RoutingBlocks 01.04.2023 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7f9d500d"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="Development" href="development.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            RoutingBlocks
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_operators.html">Custom operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_problem_settings.html">Custom problem settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="instance.html">Problem instance</a></li>
<li class="toctree-l1"><a class="reference internal" href="solution.html">Solution representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation.html">Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="localsearch.html">Local search</a></li>
<li class="toctree-l1"><a class="reference internal" href="frvcp.html">Exact replenishment facility placement</a></li>
<li class="toctree-l1"><a class="reference internal" href="alns.html">Metaheuristic components</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxilliary.html">Auxiliary algorithms and data structures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Problem settings</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="adptw.html">ADPTW</a></li>
<li class="toctree-l1"><a class="reference internal" href="niftw.html">NIFTW</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Further Reading</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="alternatives.html">Alternatives</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contribution opportunities</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Routingblocks class index</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RoutingBlocks</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Routingblocks class index</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/full_api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="routingblocks-class-index">
<h1>Routingblocks class index<a class="headerlink" href="#routingblocks-class-index" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">ADPTWVertexData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">earliest_time_of_arrival</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest_time_of_arrival</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Data stored on vertices in an ADPTW problem setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The x coordinate of the vertex.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y coordinate of the vertex.</p></li>
<li><p><strong>demand</strong> (<em>float</em>) – The demand of the vertex. 0 for station and depot vertices.</p></li>
<li><p><strong>earliest_time_of_arrival</strong> (<em>float</em>) – The earliest time at which service at the vertex can begin.</p></li>
<li><p><strong>latest_time_of_arrival</strong> (<em>float</em>) – The latest time at which service at the vertex can begin.</p></li>
<li><p><strong>service_time</strong> (<em>float</em>) – The time needed to serve the vertex.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">ADPTWArcData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">travel_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Data stored on arcs in an ADPTW problem setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance</strong> (<em>float</em>) – The distance between the two vertices connected by the arc.</p></li>
<li><p><strong>travel_time</strong> (<em>float</em>) – The time it takes to travel between the two vertices connected by the arc.</p></li>
<li><p><strong>consumption</strong> (<em>float</em>) – The time required to replenish the resource consumed when traveling between the two vertices connected by the arc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">create_adptw_vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_facility</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_depot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ADPTWVertexData</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates a vertex for an ADPTW problem setting. Stores :param data directly as a native C++ object.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The data member of the created vertex is not accessible from python. Doing so will likely result in a crash.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_id</strong> (<em>int</em>) – The unique identifier of the vertex.</p></li>
<li><p><strong>str_id</strong> (<em>str</em>) – A human-readable string identifier for the vertex.</p></li>
<li><p><strong>is_facility</strong> (<em>bool</em>) – Whether the vertex is a replenishment facility.</p></li>
<li><p><strong>is_depot</strong> (<em>bool</em>) – Whether the vertex is a depot.</p></li>
<li><p><strong>data</strong> (<em>ADPTWVertexData</em>) – The data to associate with this vertex.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">create_adptw_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ADPTWArcData</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates an arc for an ADPTW problem setting. Stores :param data directly as a native C++ object.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The data member of the created arc is not accessible from python. Doing so will likely result in a crash.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>ADPTWArcData</em>) – The data to associate with this vertex</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc">Arc</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">ADPTWEvaluation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vehicle_resource_capacity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_storage_capacity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Evaluation for ADPTW problems. Works only with arcs and vertices created using <span class="xref std std-ref">create_adptw_arc</span> and <span class="xref std std-ref">create_adptw_vertex</span>.
Uses a set of penalty factors to penalize infeasible solutions.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>overload_penalty_factor</strong> – The penalty factor for overloading the vehicle.</p></li>
<li><p><strong>resource_penalty_factor</strong> – The penalty factor for consuming more resources than carried the vehicle.</p></li>
<li><p><strong>time_shift_penalty_factor</strong> – The penalty factor for time shifts.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>vehicle_resource_capacity</strong> (<em>float</em>) – The vehicle’s battery capacity expressed in units of time, that is, the time it takes to fully replenish the resource of an empty vehicle.</p></li>
<li><p><strong>vehicle_storage_capacity</strong> (<em>float</em>) – The vehicle’s storage capacity. Determines how much demand can be served in a single route.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">overload_penalty_factor</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">resource_penalty_factor</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">time_shift_penalty_factor</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">ADPTWFacilityPlacementOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_capacity_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>ADPTW-specific detour insertion algorithm. Inserts visits to replenishment facilities at optimal locations into a route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance.</p></li>
<li><p><strong>resource_capacity_time</strong> (<em>float</em>) – The vehicle’s resource capacity expressed in units of time, that is, the time it takes to fully replenish the resource of an empty vehicle.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route_vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Optimizes the route by inserting visits to replenishment facilities at optimal locations.
:param route_vertex_ids: The vertex ids of the route to optimize.
:return: The optimized route as a list of vertex ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>route_vertex_ids</strong> (<em>List</em><em>[</em><em>VertexID</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[VertexID]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">RepairOperator</span></span></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">removed_vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Apply this operator to the given solution. The solution is modified in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation function to use.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to apply the operator to.</p></li>
<li><p><strong>removed_vertex_ids</strong> (<em>List</em><em>[</em><em>VertexID</em><em>]</em>) – The IDs of the vertices that should be inserted into the solution.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Check if this operator can be applied to the given solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to check.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get the name of this operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">DestroyOperator</span></span></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_vertices_to_remove</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Apply this operator to the given solution. The solution is modified in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation function to use.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to apply the operator to.</p></li>
<li><p><strong>number_of_vertices_to_remove</strong> (<em>int</em>) – The number of vertices to remove from the solution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing the IDs of the vertices that were removed from the solution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VertexID]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Check if this operator can be applied to the given solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to check.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get the name of this operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">AdaptiveLargeNeighborhood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">randgen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><span class="pre">Random</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>ALNS solver.
Initially, all operators are assigned equal weights of 1. The weights are then adapted based on the performance of the
operators in the last period. Upon requesting an update, the weights are recalculated as follows:</p>
<div class="math notranslate nohighlight">
\[w_{op, new} = \alpha \cdot \frac{s_{op}}{\max(1, n_{op})} + (1 - \alpha) \cdot w_{op, old}\]</div>
<p>Where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(w_{op, new}\)</span> is the updated weight of operator <span class="math notranslate nohighlight">\(op\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\alpha\)</span> is the smoothing factor, which determines the importance of an operator’s historical performance</p></li>
<li><p><span class="math notranslate nohighlight">\(s_{op}\)</span> is the sum of scores achieved by operator <span class="math notranslate nohighlight">\(op\)</span> in the last period</p></li>
<li><p><span class="math notranslate nohighlight">\(n_{op}\)</span> is the total number of solutions generated using operator <span class="math notranslate nohighlight">\(op\)</span> in the last period</p></li>
<li><p><span class="math notranslate nohighlight">\(w_{op, old}\)</span> is the old weight of operator <span class="math notranslate nohighlight">\(op\)</span></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>randgen</strong> (<a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><em>Random</em></a>) – Random number generator.</p></li>
<li><p><strong>smoothing_factor</strong> (<em>float</em>) – Smoothing factor for the adaptive weights. Determines the importance of the historical</p></li>
</ul>
</dd>
</dl>
<p>performance of the operators.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">adapt_operator_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Calculate the new weights for the operators based on their respective performance in the last period.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_destroy_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destroy_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator"><span class="pre">DestroyOperator</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register a new destroy operator. The weight of this operator is initialized to the average weight of all other
destroy operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>destroy_operator</strong> (<a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator"><em>DestroyOperator</em></a>) – The operator to add.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator">DestroyOperator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_repair_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repair_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator"><span class="pre">RepairOperator</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register a new repair operator. The weight of this operator is initialized to the average weight of all other
repair operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repair_operator</strong> (<a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator"><em>RepairOperator</em></a>) – The operator to add.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator">RepairOperator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">collect_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destroy_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator"><span class="pre">DestroyOperator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">repair_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator"><span class="pre">RepairOperator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Collect the score achieved by a solution generated by the given destroy and repair operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>destroy_operator</strong> (<a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator"><em>DestroyOperator</em></a>) – The destroy operator used to generate the solution.</p></li>
<li><p><strong>repair_operator</strong> (<a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator"><em>RepairOperator</em></a>) – The repair operator used to generate the solution.</p></li>
<li><p><strong>score</strong> (<em>float</em>) – The score achieved by the solution.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_vertices_to_remove</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Generate a new solution by applying a destroy and repair operator selected based the on the operator weights.
Modifies the solution in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation function to use.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to generate a new solution from.</p></li>
<li><p><strong>number_of_vertices_to_remove</strong> (<em>int</em>) – The number of vertices to remove from the solution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the destroy and repair operator used to generate the solution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[<a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator">DestroyOperator</a>, <a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator">RepairOperator</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_destroy_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destroy_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator"><span class="pre">DestroyOperator</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Remove a destroy operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>destroy_operator</strong> (<a class="reference internal" href="alns.html#routingblocks.DestroyOperator" title="routingblocks.DestroyOperator"><em>DestroyOperator</em></a>) – The operator to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_repair_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repair_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator"><span class="pre">RepairOperator</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Remove a repair operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repair_operator</strong> (<a class="reference internal" href="alns.html#routingblocks.RepairOperator" title="routingblocks.RepairOperator"><em>RepairOperator</em></a>) – The operator to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">reset_operator_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Reset the weights of all operators to 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">destroy_operators</span></span></dt>
<dd><p>Get an iterator over all registered destroy operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">repair_operators</span></span></dt>
<dd><p>Get an iterator over all registered repair operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A simple arc object that represents a connection between two vertices in a graph. The arc stores additional data
transparent to the RoutingBlocks package. This data can be used to store additional information about the arc, such as
distances, durations, or any other attributes relevant to the problem being modeled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Any</em>) – Additional data associated with the arc.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span></dt>
<dd><p>Retrieves the arc data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data associated with the arc.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Evaluation</span></span></dt>
<dd><p>The evaluation class implements problem-specific cost and move evaluation functions. It’s design bases on the
concepts introduced in <span id="id1">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.
Note that this class is an interface: it’s not meant to be instantiated or used directly. Please use the concrete
implementations of this interface and helper functions instead.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">compute_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyForwardLabel</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Computes the cost of a given label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>label</strong> (<em>AnyForwardLabel</em>) – The label</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost of the label</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AnyForwardLabel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AnyBackwardLabel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Evaluates the cost of the route given by concatenating the passed route sub-sequences. Each sub-sequences is
guaranteed to have valid forward and backward labels.</p>
<p>Corresponds to <code class="docutils literal notranslate"><span class="pre">EVALN</span></code> in <span id="id2">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance</p></li>
<li><p><strong>segments</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a><em>, </em><em>AnyForwardLabel</em><em>, </em><em>AnyBackwardLabel</em><em>]</em><em>]</em><em>]</em>) – A list of route sub-sequences, each given as a list of tuples of (vertex, forward label, backward label)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost of the route</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_backward_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates and initializes a backward label for the given vertex.</p>
<p>Corresponds to <code class="docutils literal notranslate"><span class="pre">INIT</span></code> in <span id="id3">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The vertex representing singleton route [vertex]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The initialized backward label</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>AnyBackwardLabel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_forward_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates and initializes a forward label for the given vertex.</p>
<p>Corresponds to <code class="docutils literal notranslate"><span class="pre">INIT</span></code> in <span id="id4">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The vertex representing singleton route [vertex]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The initialized backward label</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>AnyBackwardLabel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_cost_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyForwardLabel</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns the cost components of a given label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>label</strong> (<em>AnyForwardLabel</em>) – The label</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost components of the label</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">is_feasible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyForwardLabel</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Checks whether a given label is feasible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>label</strong> (<em>AnyForwardLabel</em>) – The label</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the label is feasible, False otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">propagate_forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyForwardLabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><span class="pre">Arc</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Extends the partial route represented by the forward label of pred_vertex to the vertex.</p>
<p>Corresponds to <code class="docutils literal notranslate"><span class="pre">FORW([...,</span> <span class="pre">pred_vertex]⊕[vertex])</span></code> in <span id="id5">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred_label</strong> (<em>AnyForwardLabel</em>) – The forward label of the predecessor vertex</p></li>
<li><p><strong>pred_vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The predecessor vertex</p></li>
<li><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The vertex</p></li>
<li><p><strong>arc</strong> (<a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><em>Arc</em></a>) – The arc connecting pred_vertex and vertex</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The propagated forward label</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>AnyForwardLabel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">propagate_backward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">succ_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyBackwardLabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">succ_vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><span class="pre">Arc</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Extends the partial route represented by the backward label of succ_vertex to the vertex.</p>
<p>Corresponds to <code class="docutils literal notranslate"><span class="pre">BACK([vertex]⊕[succ_vertex,</span> <span class="pre">...])</span></code> in <span id="id6">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>succ_label</strong> (<em>AnyBackwardLabel</em>) – The backward label of the successor vertex</p></li>
<li><p><strong>succ_vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The successor vertex</p></li>
<li><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The vertex</p></li>
<li><p><strong>arc</strong> (<a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><em>Arc</em></a>) – The arc connecting succ_vertex to vertex. Note that this corresponds to the reverse arc of the forward direction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The propagated backward label</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>AnyBackwardLabel</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">PyEvaluation</span></span></dt>
<dd><p>The PyEvaluation class implements the evaluation interface in pure Python. It’s meant to be used as a base class
for custom python-based evaluation classes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">PyConcatenationBasedEvaluation</span></span></dt>
<dd><p>The evaluation class implements problem-specific cost and move evaluation functions. It’s design bases on the
concepts introduced in <span id="id7">Vidal <em>et al.</em> [<a class="reference internal" href="references.html#id3" title="Thibaut Vidal, Teodor Gabriel Crainic, Michel Gendreau, and Christian Prins. A unified solution framework for multi-attribute vehicle routing problems. European Journal of Operational Research, 234(3):658–673, May 2014.">VCGP14</a>]</span>.
Note that this class is an interface: it’s not meant to be instantiated or used directly. Please use the concrete
implementations of this interface and helper functions instead.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">concatenate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyForwardLabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyBackwardLabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Specialization of the general evaluation member of <span class="xref std std-ref">PyEvaluation</span> for cases where two route subsequences can
be concatenated efficiently. Classes who extend this class do not need to implement <span class="xref std std-ref">PyEvaluation.evaluate</span>.</p>
<p>The concatenation function works as follows:
Assume that we have two route subsequences <code class="docutils literal notranslate"><span class="pre">[v_1,</span> <span class="pre">...,</span> <span class="pre">v_n]</span></code> and <code class="docutils literal notranslate"><span class="pre">[v_{n+1},</span> <span class="pre">...,</span> <span class="pre">v_m]</span></code>. The specialized evaluation
function first propagates v_n to v_{n+1}, and the calls <code class="docutils literal notranslate"><span class="pre">concatenate(fwd_{n+1},</span> <span class="pre">bwd_{n+1},</span> <span class="pre">v_{n+1})</span></code> where <code class="docutils literal notranslate"><span class="pre">fwd_{n+1}</span></code> is the
forward label of <code class="docutils literal notranslate"><span class="pre">v_{n+1}</span></code> and <code class="docutils literal notranslate"><span class="pre">bwd_{n+1}</span></code> is the backward label of <code class="docutils literal notranslate"><span class="pre">v_{n+1}</span></code>.</p>
<p>If the specialized evaluation function is called with several route sub-sequences
<code class="docutils literal notranslate"><span class="pre">[...,</span> <span class="pre">v_n],</span> <span class="pre">[v_n+1,</span> <span class="pre">...</span> <span class="pre">v_{n+m}],</span> <span class="pre">[v_{n+m+1},</span> <span class="pre">...]</span></code> then the first sequence is extended to v_{n+m} and the
operation reduces to the first case:
<code class="docutils literal notranslate"><span class="pre">concatenate(fwd_{n+m+1},</span> <span class="pre">bwd_{n+m+1},</span> <span class="pre">v_{n+m+1})</span></code> where <code class="docutils literal notranslate"><span class="pre">fwd_{n+m+1}</span></code> is the forward label of <code class="docutils literal notranslate"><span class="pre">v_{n+m+1}</span></code> and <code class="docutils literal notranslate"><span class="pre">bwd_{n+m+1}</span></code> is the backward label of <code class="docutils literal notranslate"><span class="pre">v_{n+m+1}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fwd</strong> (<em>AnyForwardLabel</em>) – The forward label representing the route sub-sequence <code class="docutils literal notranslate"><span class="pre">[v_1,</span> <span class="pre">...,</span> <span class="pre">v_n,</span> <span class="pre">v_{n+1}]</span></code></p></li>
<li><p><strong>bwd</strong> (<em>AnyBackwardLabel</em>) – The backward label representing the route sub-sequence <code class="docutils literal notranslate"><span class="pre">[v_{n+1},</span> <span class="pre">...,</span> <span class="pre">v_m]</span></code></p></li>
<li><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The vertex <code class="docutils literal notranslate"><span class="pre">v_{n+1}</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost of the route <code class="docutils literal notranslate"><span class="pre">[v_1,</span> <span class="pre">...,</span> <span class="pre">v_n,</span> <span class="pre">v_{n+1},</span> <span class="pre">...,</span> <span class="pre">v_m]</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">evaluate_insertion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">after_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Evaluates inserting a node into a route after the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> – The evaluation function</p></li>
<li><p><strong>instance</strong> – The instance</p></li>
<li><p><strong>route</strong> – The route</p></li>
<li><p><strong>after_position</strong> – The position after which the vertex is inserted</p></li>
<li><p><strong>node</strong> – The node to insert</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost of the route with the vertex inserted</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">evaluate_splice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">forward_segment_end_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backward_segment_begin_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Evaluates splicing two sub-sequences of a route together. The first sub-seuence ends (non-inclusive) at
<code class="docutils literal notranslate"><span class="pre">forward_segment_end_pos</span></code> and the second sub-sequence starts (including) at <code class="docutils literal notranslate"><span class="pre">backward_segment_begin_pos</span></code>.</p>
<p>Example:
Let <code class="docutils literal notranslate"><span class="pre">route</span> <span class="pre">=</span> <span class="pre">[D,</span> <span class="pre">C1,</span> <span class="pre">C2,</span> <span class="pre">C3,</span> <span class="pre">C4,</span> <span class="pre">C5,</span> <span class="pre">C6,</span> <span class="pre">D]</span></code> and <code class="docutils literal notranslate"><span class="pre">forward_segment_end_pos</span> <span class="pre">=</span> <span class="pre">2</span></code> and <code class="docutils literal notranslate"><span class="pre">backward_segment_begin_pos</span> <span class="pre">=</span> <span class="pre">5</span></code>.
Then the sub-sequences are <code class="docutils literal notranslate"><span class="pre">[D,</span> <span class="pre">C1]</span></code> and <code class="docutils literal notranslate"><span class="pre">[C5,</span> <span class="pre">C6,</span> <span class="pre">D]</span></code>. The splice operation thus evaluates the cost of the route
<code class="docutils literal notranslate"><span class="pre">[D,</span> <span class="pre">C1,</span> <span class="pre">C5,</span> <span class="pre">C6,</span> <span class="pre">D]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation function</p></li>
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance</p></li>
<li><p><strong>route</strong> (<a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a>) – The route</p></li>
<li><p><strong>forward_segment_end_pos</strong> (<em>int</em>) – The end position of the first sub-sequence (non-inclusive)</p></li>
<li><p><strong>backward_segment_begin_pos</strong> (<em>int</em>) – The start position of the second sub-sequence</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost of the spliced route</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Propagator</span></span></dt>
<dd><p>The Propagator class implements problem-specific ordering, dominance, and propagation functions. It’s design bases on the
concepts introduced in <span id="id8">Irnich [<a class="reference internal" href="references.html#id6" title="S. Irnich. A Unified Modeling and Solution Framework for Vehicle Routing and Local Search-Based Metaheuristics. INFORMS Journal on Computing, 20(2):270–287, may 2008.">Irn08</a>]</span>.
Note that this class is an interface: it’s not meant to be instantiated or used directly. Please use the concrete
implementations of this interface instead.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">cheaper_than</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Checks whether the label is cheaper than the other label, i.e., has lower cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>Any</em>) – The (potentially) cheaper label.</p></li>
<li><p><strong>other_label</strong> (<em>Any</em>) – The (potentially) more expensive label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the label is cheaper than the other label, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_root_label</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Creates the initial label for the dynamic programming algorithm. Represents the state at the source node, i.e. the
depot node.
:return: The initial label.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">dominates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Checks whether the label dominates the other label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>Any</em>) – The (potentially) dominating label.</p></li>
<li><p><strong>other_label</strong> (<em>Any</em>) – The (potentially) dominated label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">extract_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Extracts the path represented by label, converting it to a list of vertex IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>label</strong> (<em>Any</em>) – The label that represents the path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of vertex IDs visited on the path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VertexID]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">is_final_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Checks whether the label is the final label, i.e. whether it represents a depot-depot path.
:param label: The label to check.
:return: True if the label is final, False otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>label</strong> (<em>Any</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">order_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Whether the label should be ordered before the other label. This is used to determine the order in which labels are
stored in the set of settled labels, which is important for dominance checks: the checks considers only labels that
would be ordered before the label being checked.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>Any</em>) – The (potentially) earlier label.</p></li>
<li><p><strong>other_label</strong> (<em>Any</em>) – The (potentially) later label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the label should be ordered before the other label, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route_vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Prepare the propagator before running the algorithm on the route represented by the given vertex IDs.
:param route_vertex_ids: The vertex IDs of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>route_vertex_ids</strong> (<em>List</em><em>[</em><em>VertexID</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">propagate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><span class="pre">Arc</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Propagates the label to the target vertex, using the given arc. This creates a new label that represents the state
at the target vertex. Return None if the resulting path would be infeasible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>Any</em>) – The label to propagate.</p></li>
<li><p><strong>origin_vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The origin vertex of the arc.</p></li>
<li><p><strong>target_vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The target vertex of the arc.</p></li>
<li><p><strong>arc</strong> (<a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><em>Arc</em></a>) – The arc to propagate the label along.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The propagated label, or None if the resulting path would be infeasible.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Any]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">FacilityPlacementOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">propagator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="frvcp.html#routingblocks.Propagator" title="routingblocks.Propagator"><span class="pre">Propagator</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Algorithm that inserts visits to replenishment facilities at optimal locations into a route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance.</p></li>
<li><p><strong>propagator</strong> (<a class="reference internal" href="frvcp.html#routingblocks.Propagator" title="routingblocks.Propagator"><em>Propagator</em></a>) – The propagator to use.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route_vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Inserts visits to replenishment facilities at optimal locations into the route represented by the given vertex IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>route_vertex_ids</strong> (<em>List</em><em>[</em><em>VertexID</em><em>]</em>) – The vertex IDs of the route.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The vertex IDs of the optimized route.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VertexID]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">InsertionMove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after_node_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_id</strong> (<em>VertexID</em>) – The vertex to be inserted.</p></li>
<li><p><strong>after_node</strong> – The node after which the vertex should be inserted.</p></li>
<li><p><strong>delta_cost</strong> (<em>float</em>) – The change in cost incurred from inserting the vertex at the specified position.</p></li>
<li><p><strong>after_node_location</strong> (<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">vertex_id</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">after_node</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delta_cost</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">InsertionCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – </p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_best_insertions_for_vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex_id</strong> (<em>VertexID</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference internal" href="auxilliary.html#routingblocks.InsertionMove" title="routingblocks.InsertionMove">InsertionMove</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">invalidate_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> (<a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a>) – </p></li>
<li><p><strong>route_index</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rebuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – </p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – </p></li>
<li><p><strong>vertex_ids</strong> (<em>List</em><em>[</em><em>VertexID</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">stop_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex_id</strong> (<em>VertexID</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">tracks_vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex_id</strong> (<em>VertexID</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">moves_in_order</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="auxilliary.html#routingblocks.InsertionMove" title="routingblocks.InsertionMove">InsertionMove</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tracked_vertices</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VertexID]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">customers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arcs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><span class="pre">Arc</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fleet_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Represents an instance of a vehicle routing problem. The instance contains a collection of vertices (depot, stations,
and customers), a matrix of arcs connecting the vertices, and a fleet size representing the number of vehicles available.
Provides convenient methods to access and iterate through the various types of vertices.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommend to use the <a class="reference internal" href="instance.html#instance-builder"><span class="std std-ref">InstanceBuilder</span></a> to create instances.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertices</strong> (<em>List</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a><em>]</em>) – A list of vertices in the order depot, stations, customers</p></li>
<li><p><strong>arcs</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><em>Arc</em></a><em>]</em><em>]</em>) – A list of lists of Arc objects representing the connections between vertices</p></li>
<li><p><strong>fleet_size</strong> (<em>int</em>) – The number of vehicles in the fleet</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fleet_size</span></span></dt>
<dd><p>Retrieves the number of vehicles available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The fleet size.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_customers</span></span></dt>
<dd><p>Retrieves the number of customers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of customers.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_stations</span></span></dt>
<dd><p>Retrieves the number of stations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of stations.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_vertices</span></span></dt>
<dd><p>Retrieves the number of vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of vertices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">depot</span></span></dt>
<dd><p>Retrieves the depot vertex.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The depot vertex.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vertices</span></span></dt>
<dd><p>Retrieves an iterator over the instance’s vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator over the instance’s vertices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator[<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stations</span></span></dt>
<dd><p>Retrieves an iterator over the station vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator over the station vertices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator[<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">customers</span></span></dt>
<dd><p>Retrieves an iterator over the customer vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator over the customer vertices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator[<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Retrieves a vertex by its ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>id</strong> (<em>int</em>) – The ID of the desired vertex.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The vertex with the specified ID.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_customer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">customer_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Retrieves the n-th customer vertex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>customer_index</strong> (<em>int</em>) – The index of the desired customer vertex.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The customer vertex at the specified index.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Retrieves the n-th station vertex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>station_index</strong> (<em>int</em>) – The index of the desired station vertex.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The station vertex at the specified index.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Retrieves the arc connecting two vertices, specified by their IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_vertex_id</strong> (<em>int</em>) – The ID of the source vertex.</p></li>
<li><p><strong>target_vertex_id</strong> (<em>int</em>) – The ID of the target vertex.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The arc connecting the source and target vertices.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc">Arc</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">ArcSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number_of_vertices</strong> (<em>int</em>) – </p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">forbid_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin_vertex_id</strong> (<em>VertexID</em>) – </p></li>
<li><p><strong>target_vertex_id</strong> (<em>VertexID</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">include_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin_vertex_id</strong> (<em>VertexID</em>) – </p></li>
<li><p><strong>target_vertex_id</strong> (<em>VertexID</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">includes_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin_vertex_id</strong> (<em>VertexID</em>) – </p></li>
<li><p><strong>target_vertex_id</strong> (<em>VertexID</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">GeneratorArc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_route_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_node_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_route_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_node_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">origin_node</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">origin_route</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route">Route</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_node</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_route</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route">Route</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Move</span></span></dt>
<dd><p>Interface for implementing custom moves.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Applies the move to the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to be improved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_cost_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns the cost delta of the move according to the passed evaluation function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation function to use.</p></li>
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">LocalSearchOperator</span></span></dt>
<dd><p>Interface for implementing custom local search operators.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">finalize_search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Called after the search for improving moves has been completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">find_next_improving_move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_evaluated_move</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="localsearch.html#routingblocks.Move" title="routingblocks.Move"><span class="pre">Move</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Finds the next improving move. Returns None if no improving move is found.
To avoid looping forever, this method should pick up the search where it left off, i.e., at last_evaluated_move.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation function to use.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to be improved.</p></li>
<li><p><strong>last_evaluated_move</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="localsearch.html#routingblocks.Move" title="routingblocks.Move"><em>Move</em></a><em>]</em>) – The last move that was evaluated. Note that this corresponds to the last Move this operator returned. None if no move has been evaluated yet.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The next improving move. None if no improving move is found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="localsearch.html#routingblocks.Move" title="routingblocks.Move">Move</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">prepare_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Called before the search for improving moves is started.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to be improved.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">PivotingRule</span></span></dt>
<dd><p>Interface for implementing custom pivoting rules.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">select_move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return the move to be applied to the solution.Returns none if no move is found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to be improved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The move to be applied to the solution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="localsearch.html#routingblocks.Move" title="routingblocks.Move">Move</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">continue_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">found_improving_move</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="localsearch.html#routingblocks.Move" title="routingblocks.Move"><span class="pre">Move</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Determine if the search should continue or terminate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>found_improving_move</strong> (<a class="reference internal" href="localsearch.html#routingblocks.Move" title="routingblocks.Move"><em>Move</em></a>) – The move found to be improving.</p></li>
<li><p><strong>delta_cost</strong> (<em>float</em>) – The(exact) cost difference between the current solution and the solution after applying the move.</p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution the move should be applied to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the search should continue, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">BestImprovementPivotingRule</span></span></dt>
<dd><p>The best improvement pivoting rule selects the best improving move found during the search for improving moves.
It never terminates the search prematurely.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">KBestImprovementPivotingRule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>The k - best improvement pivoting rule selects best out of the first k improving moves found during the search
for improving moves. It terminates the search as soon as the k - th improving move is found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>k</strong> (<em>int</em>) – The number of improving moves to consider.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">FirstImprovementPivotingRule</span></span></dt>
<dd><p>The first improvement pivoting rule selects the first improving move found during the search for improving moves.
It terminates the search as soon as the first improving move is found.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">LocalSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact_evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pivoting_rule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="localsearch.html#routingblocks.PivotingRule" title="routingblocks.PivotingRule"><span class="pre">PivotingRule</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>This class implements a customizable local search algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – </p></li>
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – </p></li>
<li><p><strong>exact_evaluation</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a><em>]</em>) – </p></li>
<li><p><strong>pivoting_rule</strong> (<a class="reference internal" href="localsearch.html#routingblocks.PivotingRule" title="routingblocks.PivotingRule"><em>PivotingRule</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="localsearch.html#routingblocks.LocalSearchOperator" title="routingblocks.LocalSearchOperator"><span class="pre">LocalSearchOperator</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Searches the neighborhood of the solution for improving moves and applies them until no further improvement is possible.
The neighborhood is defined by the passed operators. Modifies the passed solution in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – The solution to be improved.</p></li>
<li><p><strong>operators</strong> (<em>List</em><em>[</em><a class="reference internal" href="localsearch.html#routingblocks.LocalSearchOperator" title="routingblocks.LocalSearchOperator"><em>LocalSearchOperator</em></a><em>]</em>) – The operators to use for searching the neighborhood.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">QuadraticNeighborhoodIterator</span></span></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">iter_neighborhood</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">NIFTWVertexData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">earliest_time_of_arrival</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest_time_of_arrival</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Data stored on vertices in an NIFTW problem setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The x coordinate of the vertex.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y coordinate of the vertex.</p></li>
<li><p><strong>demand</strong> (<em>float</em>) – The demand of the vertex. 0 for station and depot vertices.</p></li>
<li><p><strong>earliest_time_of_arrival</strong> (<em>float</em>) – The earliest time at which service at the vertex can begin.</p></li>
<li><p><strong>latest_time_of_arrival</strong> (<em>float</em>) – The latest time at which service at the vertex can begin.</p></li>
<li><p><strong>service_time</strong> (<em>float</em>) – The time needed to serve the vertex.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">NIFTWArcData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">travel_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Data stored on arcs in an NIFTW problem setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance</strong> (<em>float</em>) – The distance between the two vertices connected by the arc.</p></li>
<li><p><strong>travel_time</strong> (<em>float</em>) – The time it takes to travel between the two vertices connected by the arc.</p></li>
<li><p><strong>consumption</strong> (<em>float</em>) – The time required to recharge the resources consumed when traveling between the two vertices connected by the arc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">create_niftw_vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_depot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NIFTWVertexData</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates a vertex for an NIFTW problem setting. Stores :param data directly as a native C++ object.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The data member of the created vertex is not accessible from python. Doing so will likely result in a crash.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_id</strong> (<em>int</em>) – The unique identifier of the vertex.</p></li>
<li><p><strong>str_id</strong> (<em>str</em>) – A human-readable string identifier for the vertex.</p></li>
<li><p><strong>is_station</strong> (<em>bool</em>) – Whether the vertex is a station.</p></li>
<li><p><strong>is_depot</strong> (<em>bool</em>) – Whether the vertex is a depot.</p></li>
<li><p><strong>data</strong> (<em>NIFTWVertexData</em>) – The data to associate with this vertex.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">create_niftw_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NIFTWArcData</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates an arc for an NIFTW problem setting. Stores :param data directly as a native C++ object.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The data member of the created arc is not accessible from python. Doing so will likely result in a crash.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>NIFTWArcData</em>) – The data to associate with this vertex</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc">Arc</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">NIFTWEvaluation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vehicle_resource_capacity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_storage_capacity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replenishment_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Evaluation for NIFTW problems. Works only with arcs and vertices created using <span class="xref std std-ref">create_niftw_arc</span> and <span class="xref std std-ref">create_niftw_vertex</span>.
Uses a set of penalty factors to penalize infeasible solutions.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>overload_penalty_factor</strong> – The penalty factor for overloading the vehicle.</p></li>
<li><p><strong>resource_penalty_factor</strong> – The penalty factor for consuming more resources than carried by the vehicle.</p></li>
<li><p><strong>time_shift_penalty_factor</strong> – The penalty factor for time shifts.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>vehicle_resource_capacity</strong> (<em>float</em>) – The vehicle’s battery capacity expressed in units of time, that is, the time it takes to fully recharge an empty battery.</p></li>
<li><p><strong>vehicle_storage_capacity</strong> (<em>float</em>) – The vehicle’s storage capacity. Determines how much demand can be served in a single route.</p></li>
<li><p><strong>replenishment_time</strong> (<em>float</em>) – The time penalty incurred to replenish all the resources carried by the vehicle.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">overload_penalty_factor</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">resource_penalty_factor</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">time_shift_penalty_factor</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">NIFTWFacilityPlacementOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_capacity_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replenishment_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>NIFTW-specific detour insertion algorithm. Inserts visits to replenishment facilities at optimal locations into a route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The instance to optimize.</p></li>
<li><p><strong>battery_capacity_time</strong> (<em>float</em>) – The vehicle’s resource capacity expressed in units of time, that is, the time it takes to fully recharge an empty battery.</p></li>
<li><p><strong>replenishment_time</strong> (<em>float</em>) – The time penalty incurred to replenish all the resources carried by the vehicle.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route_vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Optimizes the route by inserting visits to replenishment facilities at optimal locations.
:param route_vertex_ids: The vertex ids of the route to optimize.
:return: The optimized route as a list of vertex ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>route_vertex_ids</strong> (<em>List</em><em>[</em><em>VertexID</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[VertexID]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwd_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyForwardLabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bwd_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyBackwardLabel</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A node represents a visit to a vertex.
It carries forward and backward labels that are used for cost calculation, constraint checking, and efficient move evaluation.
The data itself is opaque to the node class, and is only used by the evaluation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>Vertex</em></a>) – The associated Vertex object.</p></li>
<li><p><strong>fwd_label</strong> (<em>AnyForwardLabel</em>) – The forward label for the node.</p></li>
<li><p><strong>bwd_label</strong> (<em>AnyBackwardLabel</em>) – The backward label for the node.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Computes the cost according to the forward label carried by the node using the given evaluation.
See the documentation of the evaluation object for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation object for computing costs.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cost.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">cost_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Computes the individual cost components according to the forward label carried by the node using the given evaluation.
See the documentation of the evaluation object for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation object for computing cost components.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of cost components.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">feasible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Determines if the node is feasible based on the given evaluation.
See the documentation of the evaluation object for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation object for checking feasibility.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the node is feasible, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">update_backward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">predecessor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><span class="pre">Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><span class="pre">Arc</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Updates the backward label of the node based on the given evaluation, predecessor node, and arc.
See the documentation of the evaluation object for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation object for updating the backward label.</p></li>
<li><p><strong>predecessor</strong> (<a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><em>Node</em></a>) – The predecessor node in the solution space.</p></li>
<li><p><strong>arc</strong> (<a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><em>Arc</em></a>) – The arc connecting the predecessor node to the current node.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">update_forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">successor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><span class="pre">Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><span class="pre">Arc</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Updates the forward label of the node based on the given evaluation, successor node, and arc.
See the documentation of the evaluation object for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation object for updating the forward label.</p></li>
<li><p><strong>successor</strong> (<a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><em>Node</em></a>) – The successor node in the solution space.</p></li>
<li><p><strong>arc</strong> (<a class="reference internal" href="instance.html#routingblocks.Arc" title="routingblocks.Arc"><em>Arc</em></a>) – The arc connecting the current node to the successor node.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">backward_label</span></span></dt>
<dd><p>Retrieves the backward label of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The backward label.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>AnyBackwardLabel</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">forward_label</span></span></dt>
<dd><p>Retrieves the forward label of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The forward label.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>AnyForwardLabel</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vertex</span></span></dt>
<dd><p>Retrieves the vertex represented by this node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The associated Vertex object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex">Vertex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vertex_id</span></span></dt>
<dd><p>Shorthand to retrieve the unique id of the node’s vertex.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unique identifier of the associated vertex.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vertex_strid</span></span></dt>
<dd><p>Shorthand to retrieve the name of the node’s vertex.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the associated vertex.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">NodeLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A class representing the location of a node within a solution. Stores the route index and the position of the node within that route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> (<em>int</em>) – The index of the route in which the node is located.</p></li>
<li><p><strong>position</strong> (<em>int</em>) – The position of the node within the route.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">route</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">position</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Random</span></span></dt>
<dd><p>Initializes a new instance of the Random class with a provided seed.</p>
<p>The seed is a number used to initialize the underlying pseudo-random
number generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seed</strong> (<em>int</em>) – The seed value for the random number generator. Providing the
same seed will generate the same sequence of random numbers.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">randint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns a random integer from the specified range [min, max], including
both endpoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> (<em>int</em>) – The lower bound of the range.</p></li>
<li><p><strong>max</strong> (<em>int</em>) – The upper bound of the range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random integer value from the specified range [min, max].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns a random floating-point number between the specified min and max values,
including min and potentially up to max.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> (<em>float</em>) – The lower bound of the range.</p></li>
<li><p><strong>max</strong> (<em>float</em>) – The upper bound of the range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random floating-point number within the specified range [min, max).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">RemovalMove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VertexID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_id</strong> (<em>VertexID</em>) – The vertex ID of the node to be removed.</p></li>
<li><p><strong>node_location</strong> (<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a>) – The location of the node to be removed.</p></li>
<li><p><strong>delta_cost</strong> (<em>float</em>) – The change in cost of the solution if the node is removed.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">vertex_id</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">node_location</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delta_cost</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">RemovalCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – </p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">invalidate_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> (<a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a>) – </p></li>
<li><p><strong>route_index</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rebuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – </p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>Solution</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">moves_in_order</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="auxilliary.html#routingblocks.RemovalMove" title="routingblocks.RemovalMove">RemovalMove</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Routes represent a sequence of visits to vertices, represented by Node objects.
A route starts and ends at the depot.
The route class ensures that the information stored in each node’s label is consistent with the forward and
backward sequences.</p>
<dl class="simple">
<dt>Example:</dt><dd><p>Route [D, a, b, c, d, e, D], where capital D represents a visit to the depot. Then the route class ensures
that the forward labels stored on node ‘c’ represent the sequence [D, a, b, c], that is, are calculated by propagating the forward label at D across arcs (D, a), (a, b), (b, c).
Similarly, the backward labels stored on node ‘c’ represent the sequence [c, d, e, D].</p>
</dd>
</dl>
<p>Routes behave like lists of nodes, that is, they can e.g. be indexed and iterated over.</p>
<p>Routes carry a globally unique modification timestamp which can be used to efficiently test two routes for equality:
On each modification of the route, the modification timestamp is incremented, while copying a route preserves it’s timestamp.
Hence, two routes with the same modification timestamp are guaranteed to be equal, although the converse does not necessarily apply.</p>
<p>The route constructor creates an empty route, that is, a route that contains only start and end depots.
Refer to create_route for a method to create a route from a sequence of vertex ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The Evaluation object used for cost and feasibility calculations.</p></li>
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The Instance object representing the problem instance.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cost</span></span></dt>
<dd><p>Calculates the route’s cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The cost of the route.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cost_components</span></span></dt>
<dd><p>Calculates the route’s cost components.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of cost components .</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">depot</span></span></dt>
<dd><p>Retrieves the depot node of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The start depot node.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">empty</span></span></dt>
<dd><p>Determines if the route is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the route is empty, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">end_depot</span></span></dt>
<dd><p>Retrieves the end depot node of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The end depot node.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feasible</span></span></dt>
<dd><p>Determines if the route is feasible.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the route is feasible, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">modification_timestamp</span></span></dt>
<dd><p>Retrieves the modification timestamp of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The modification timestamp.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">exchange_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segment_begin_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_end_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_segment_begin_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_segment_end_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Exchanges the segment [segment_begin_position, segment_end_position) of this route with the segment
[other_segment_begin_position, other_segment_end_position) of the other route. The swapped segments do not
include the respective segment end nodes. This method if well defined even if other_route is this route as
long as the segments do not overlap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segment_begin_position</strong> (<em>int</em>) – The start position of the segment in this route.</p></li>
<li><p><strong>segment_end_position</strong> (<em>int</em>) – The end position of the segment in this route. Not included.</p></li>
<li><p><strong>other_segment_begin_position</strong> (<em>int</em>) – The start position of the segment in the other route.</p></li>
<li><p><strong>other_segment_end_position</strong> (<em>int</em>) – The end position of the segment in the other route. Not included.</p></li>
<li><p><strong>other_route</strong> (<a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a>) – The other route to exchange segments with.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">insert_segment_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_segment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Inserts a sequence of nodes after the given position in the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<em>int</em>) – The position after which to insert the segment.</p></li>
<li><p><strong>node_segment</strong> (<em>List</em><em>[</em><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><em>Node</em></a><em>]</em>) – The sequence of nodes to insert.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new position after the insertion.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">insert_vertices_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Inserts a batch of vertices at the given positions. This method is more efficient than calling insert_segment_after
multiple times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertices</strong> (<em>Iterable</em>) – The iterable containing tuples of vertices with the positions to insert after.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes a segment of nodes from the route. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">route</span> <span class="o">=</span> <span class="n">routingblocks</span><span class="o">.</span><span class="n">create_route</span><span class="p">(</span><span class="n">evaluation</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="p">[</span><span class="n">D</span><span class="p">,</span> <span class="n">C1</span><span class="p">,</span> <span class="n">C2</span><span class="p">,</span> <span class="n">C3</span><span class="p">,</span> <span class="n">D</span><span class="p">])</span>
<span class="n">new_position_of_end_position</span> <span class="o">=</span> <span class="n">route</span><span class="o">.</span><span class="n">remove_segment</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">route</span><span class="p">)</span> <span class="c1"># [D, C3, D]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_position_of_end_position</span><span class="p">)</span> <span class="c1"># 1</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>begin_position</strong> (<em>int</em>) – The start position of the segment to remove.</p></li>
<li><p><strong>end_position</strong> (<em>int</em>) – The end position of the segment to remove. Not inclusive.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new position of end_position after removal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_vertices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes vertices at the specified positions from the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex_positions</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – The list of vertex positions to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Updates the route, recalculating the forward and backward labels, costs, and feasibility.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Creates a copy of the route. Copies Node objects and labels, but not the underlying Vertex and Instance objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A deep copy of the route.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route">Route</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">create_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – </p></li>
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – </p></li>
<li><p><strong>vertex_ids</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route">Route</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><span class="pre">Evaluation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_routes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>The Solution class represents a solution to a VRP problem.
It maintains a list of Route objects, providing methods for cost calculation, feasibility checking, route manipulation, and finding vertices.
Solution objects behave like lists of routes, so you can iterate over them, index them, and get their length:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">solution</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">(</span><span class="n">evaluation</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">for</span> <span class="n">route</span> <span class="ow">in</span> <span class="n">solution</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">route</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">solution</span><span class="p">))</span>

<span class="k">del</span> <span class="n">solution</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that any operations that add routes implicitly copy the route objects. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">solution</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">(</span><span class="n">evaluation</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">route</span> <span class="o">=</span> <span class="n">create_route</span><span class="p">(</span><span class="n">evaluation</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="p">[</span><span class="n">D</span><span class="p">,</span> <span class="n">C1</span><span class="p">,</span> <span class="n">D</span><span class="p">])</span>
<span class="n">solution</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="n">route</span><span class="p">)</span>

<span class="n">route</span><span class="o">.</span><span class="n">insert_vertex_after</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">C2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">route</span><span class="p">)</span> <span class="c1"># [D, C1, C2, D]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># [D, C1, D]</span>
</pre></div>
</div>
<p>Creates a new Solution object with the specified list of routes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<a class="reference internal" href="adptw.html#routingblocks.adptw.Evaluation" title="routingblocks.adptw.Evaluation"><em>Evaluation</em></a>) – The evaluation object for cost and feasibility calculations.</p></li>
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>Instance</em></a>) – The Instance object representing the problem instance.</p></li>
<li><p><strong>routes</strong> (<em>List</em><em>[</em><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a><em>]</em>) – The list of routes to include in the solution.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Adds a new route to the solution. If no route is provided, an empty route will be added.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>route</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a><em>]</em>) – The route to add to the solution (optional).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">exchange_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_route_begin_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_route_end_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_route_begin_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_route_end_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Exchanges segments between two routes using their indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_route_index</strong> (<em>int</em>) – The index of the first route in the exchange operation.</p></li>
<li><p><strong>first_route_begin_position</strong> (<em>int</em>) – The start position of the segment in the first route.</p></li>
<li><p><strong>first_route_end_position</strong> (<em>int</em>) – The end position of the segment in the first route.</p></li>
<li><p><strong>second_route_index</strong> (<em>int</em>) – The index of the second route in the exchange operation.</p></li>
<li><p><strong>second_route_begin_position</strong> (<em>int</em>) – The start position of the segment in the second route.</p></li>
<li><p><strong>second_route_end_position</strong> (<em>int</em>) – The end position of the segment in the second route.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Finds the locations of a vertex in the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vertex_id</strong> (<em>int</em>) – The vertex ID to search for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of NodeLocation objects representing the locations of the vertex in the solution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation">NodeLocation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">insert_vertex_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">after_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Inserts a vertex after the specified location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>after_location</strong> (<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a>) – The location after which to insert the vertex.</p></li>
<li><p><strong>vertex_id</strong> (<em>int</em>) – The vertex ID to insert.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The position of the newly inserted vertex.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">insert_vertices_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_ids_and_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">VertexID</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Inserts multiple vertices at the specified locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_ids_and_positions</strong> (<em>Iterable</em><em>[</em><em>Tuple</em><em>[</em><em>VertexID</em><em>, </em><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a><em>]</em><em>]</em>) – An iterable of tuples containing the vertex ID and the location after which to insert the vertex.</p></li>
<li><p><strong>vertex_ids_and_positions</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Retrieves the node at the specified location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location</strong> (<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a>) – The location of the node to retrieve.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The node at the specified location.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><span class="pre">Route</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes the specified route from the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>route</strong> (<a class="reference internal" href="solution.html#routingblocks.Route" title="routingblocks.Route"><em>Route</em></a>) – The route to remove from the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes the vertex at the specified location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location</strong> (<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a>) – The location of the vertex to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_vertices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><span class="pre">NodeLocation</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes multiple vertices at the specified locations.
This is more efficient than calling remove_vertex() multiple times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>locations</strong> (<em>List</em><em>[</em><a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation"><em>NodeLocation</em></a><em>]</em>) – A list of locations of the vertices to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Creates a copy of the solution. This copies routes and nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A copy of the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution">Solution</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cost</span></span></dt>
<dd><p>Gets the total cost of the solution, i.e., the sum of costs of all routes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total cost of the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cost_components</span></span></dt>
<dd><p>Gets the cost components of the solution, i.e., the sum of costs components of all routes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of cost components for the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feasible</span></span></dt>
<dd><p>Determines if the solution is feasible.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the solution is feasible, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">insertion_points</span></span></dt>
<dd><p>Gets all possible insertion points in the solution. That is, for each route r, positions [0, len(r) - 2].</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of NodeLocation objects representing the insertion points in the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation">NodeLocation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">non_depot_nodes</span></span></dt>
<dd><p>Gets the non-depot nodes in the solution. Useful for removing nodes from the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of NodeLocation objects representing the non-depot nodes in the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference internal" href="solution.html#routingblocks.NodeLocation" title="routingblocks.NodeLocation">NodeLocation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_insertion_points</span></span></dt>
<dd><p>Gets the number of insertion points in the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of insertion points in the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_non_depot_nodes</span></span></dt>
<dd><p>Gets the number of non-depot nodes in the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of non-depot nodes in the solution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">routes</span></span></dt>
<dd><p>Returns an iterator over the routes in the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator over the routes.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">AnyForwardLabel</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">AnyBackwardLabel</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">VertexID</span></span></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">Vertex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_depot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A simple vertex object that represents a location vehicles can visit. Vertices can be stations, depots or customers.
Each vertex has a unique id and a human-readable string identifier. The vertex also stores additional data transparent
to the RoutingBlocks package. This data can be used to store additional information about the vertex, such as time windows,
demand, prizes, or any other attribute that is relevant to the problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_id</strong> (<em>int</em>) – The unique identifier of the vertex.</p></li>
<li><p><strong>str_id</strong> (<em>str</em>) – A human-readable string identifier for the vertex.</p></li>
<li><p><strong>is_station</strong> (<em>bool</em>) – Whether the vertex is a station.</p></li>
<li><p><strong>is_depot</strong> (<em>bool</em>) – Whether the vertex is a depot.</p></li>
<li><p><strong>data</strong> (<em>Any</em>) – Additional data associated with the vertex.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">vertex_id</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">str_id</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">is_station</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">is_depot</span></span></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_customer</span></span></dt>
<dd><p>Determines if the vertex is a customer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the vertex is a customer, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span></dt>
<dd><p>Retrieves the vertex data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The data associated with the vertex.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.</span></span><span class="sig-name descname"><span class="pre">LargeNeighborhood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">randgen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.Random</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>LNS solver.</p>
<p>The solver uses a destroy and repair operator to iteratively generate new solutions. The destroy operator is used to
remove a number of vertices from the solution, while the repair operator is used to re-insert the removed vertices
into the solution.</p>
<p>Destroy and repair operators are selected uniformly from a pool of registered operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>randgen</strong> (<em>routingblocks._routingblocks.Random</em>) – Random number generator.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_destroy_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destroy_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.DestroyOperator</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register a new destroy operator. The weight of this operator is initialized to the average weight of all other
destroy operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>destroy_operator</strong> (<em>routingblocks._routingblocks.DestroyOperator</em>) – The operator to add.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>routingblocks._routingblocks.DestroyOperator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_repair_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repair_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.RepairOperator</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register a new repair operator. The weight of this operator is initialized to the average weight of all other
repair operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repair_operator</strong> (<em>routingblocks._routingblocks.RepairOperator</em>) – The operator to add.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>routingblocks._routingblocks.RepairOperator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.Solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_vertices_to_remove</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Generate a new solution by applying a destroy and repair operator selected randomly.
Modifies the solution in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks._routingblocks.Evaluation</em>) – The evaluation function to use.</p></li>
<li><p><strong>solution</strong> (<em>routingblocks._routingblocks.Solution</em>) – The solution to generate a new solution from.</p></li>
<li><p><strong>number_of_vertices_to_remove</strong> (<em>int</em>) – The number of vertices to remove from the solution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the destroy and repair operator used to generate the solution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[routingblocks._routingblocks.DestroyOperator, routingblocks._routingblocks.RepairOperator]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_destroy_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destroy_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.DestroyOperator</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Remove a destroy operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>destroy_operator</strong> (<em>routingblocks._routingblocks.DestroyOperator</em>) – The operator to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove_repair_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repair_operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks._routingblocks.RepairOperator</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Remove a repair operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repair_operator</strong> (<em>routingblocks._routingblocks.RepairOperator</em>) – The operator to remove.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">destroy_operators</span></span></dt>
<dd><p>Get an iterator over all registered destroy operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">repair_operators</span></span></dt>
<dd><p>Get an iterator over all registered repair operators.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">first_move_selector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moves</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Selects the first move in the sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>moves</strong> (<em>Iterable</em><em>[</em><em>T</em><em>]</em>) – The sequence of moves.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The first move in the sequence.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">nth_move_selector_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates a move selector which selects the nth move in the sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The index of the move to select.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A move selector which selects the nth move in the sequence.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="alns.html#routingblocks.operators.MoveSelector" title="routingblocks.operators.MoveSelector">MoveSelector</a>[T]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">blink_selector_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blink_probability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randgen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><span class="pre">routingblocks.Random</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates a move selector which selects the first move of the sequence with probability <span class="math notranslate nohighlight">\((1-p)\)</span>, the second move with
probability <span class="math notranslate nohighlight">\((1-p)^2\)</span>, where <span class="math notranslate nohighlight">\(p\)</span> is the blink probability, and so on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blink_probability</strong> (<em>float</em>) – The probability of blinking.</p></li>
<li><p><strong>randgen</strong> (<a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><em>routingblocks.Random</em></a>) – The random number generator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The configured move selector.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="alns.html#routingblocks.operators.MoveSelector" title="routingblocks.operators.MoveSelector">MoveSelector</a>[T]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">last_move_selector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moves</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Selects the last move in the sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>moves</strong> (<em>Iterable</em><em>[</em><em>T</em><em>]</em>) – The sequence of moves.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The last move in the sequence.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">random_selector_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rangen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><span class="pre">routingblocks.Random</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates a move selector which selects a random move from the sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rangen</strong> (<a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><em>routingblocks.Random</em></a>) – The random number generator.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The configured move selector.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">WorstRemovalOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">routingblocks.Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">move_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.operators.move_selectors.MoveSelector</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="auxilliary.html#routingblocks.RemovalMove" title="routingblocks.RemovalMove"><span class="pre">routingblocks.RemovalMove</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Iteratively (one at a time) removes vertices according to the benefit yielded by removing them, i.e., the change in
the solution’s cost with and without the vertex.</p>
<p>The operator uses a <code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.operators.MoveSelector[routingblocks.RemovalMove]</span></code> to choose the
next vertex to remove. This selector receives as argument a list of <a class="reference internal" href="auxilliary.html#routingblocks.RemovalMove" title="routingblocks.RemovalMove"><code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.RemovalMove</span></code></a> objects,
each one representing a possible removal of a vertex from the solution, ordered by cost improvement.</p>
<p>This allows to customize the operator to different removal strategies, such as removing the vertex with the
highest cost improvement, removing the vertex with the lowest cost improvement, or introducing randomness in the
selection process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>routingblocks.Instance</em></a>) – The problem instance</p></li>
<li><p><strong>move_selector</strong> (<a class="reference internal" href="alns.html#routingblocks.operators.MoveSelector" title="routingblocks.operators.MoveSelector"><em>routingblocks.operators.MoveSelector</em></a><em>[</em><a class="reference internal" href="auxilliary.html#routingblocks.RemovalMove" title="routingblocks.RemovalMove"><em>routingblocks.RemovalMove</em></a><em>]</em>) – The move selector used to choose the next vertex to remove</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_removed_vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks.Evaluation</em>) – </p></li>
<li><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p></li>
<li><p><strong>number_of_removed_vertices</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">BestInsertionOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">routingblocks.Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">move_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.operators.move_selectors.MoveSelector</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="auxilliary.html#routingblocks.InsertionMove" title="routingblocks.InsertionMove"><span class="pre">routingblocks.InsertionMove</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Iteratively (one at a time) inserts vertices according to the cost incurred from inserting them.</p>
<p>The operator uses a <code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.operators.MoveSelector[routingblocks.InsertionMove]</span></code> to choose the
next vertex to insert. This selector receives as argument a list of <a class="reference internal" href="auxilliary.html#routingblocks.InsertionMove" title="routingblocks.InsertionMove"><code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.InsertionMove</span></code></a> objects,
each one representing a possible location at which the next vertex can be inserted, ordered by cost in descending order.</p>
<p>This allows to customize the operator to different insertion strategies, such as inserting the vertex at the location
with the lowest cost, inserting the vertex at the location with the highest cost, or introducing randomness in the
selection process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>routingblocks.Instance</em></a>) – The problem instance</p></li>
<li><p><strong>move_selector</strong> (<em>routingblocks.operators.move_selectors.MoveSelector</em><em>[</em><a class="reference internal" href="auxilliary.html#routingblocks.InsertionMove" title="routingblocks.InsertionMove"><em>routingblocks.InsertionMove</em></a><em>]</em>) – The move selector used to choose the next insertion position</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks.Evaluation</em>) – </p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p></li>
<li><p><strong>vertex_ids</strong> (<em>Iterable</em><em>[</em><em>int</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">RouteRemovalOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><span class="pre">routingblocks.Random</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes random routes from the solution. May remove more than the requested number of vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rng</strong> (<a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><em>routingblocks.Random</em></a>) – The <a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.Random</span></code></a> instance to use.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_removed_vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks.Evaluation</em>) – </p></li>
<li><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p></li>
<li><p><strong>number_of_removed_vertices</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">ClusterRemovalOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.operators.SeedSelector" title="routingblocks.operators.SeedSelector"><span class="pre">SeedSelector</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_member_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="alns.html#routingblocks.operators.ClusterMemberSelector" title="routingblocks.operators.ClusterMemberSelector"><span class="pre">ClusterMemberSelector</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>The ClusterRemovalOperator is a generic destroy operator that removes clusters of vertices from a solution.
The operator first selects a seed vertex, and then selects a cluster of vertices around that seed.
These two steps are repeated until the desired number of vertices has been selected or no seed vertices can be
identified. The selected vertices are then removed from the solution. Note that seed vertices are not removed unless
they are also selected by the cluster member selector.</p>
<p>The seed selection and cluster member selection are delegated to the <a class="reference internal" href="alns.html#routingblocks.operators.SeedSelector" title="routingblocks.operators.SeedSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.operators.SeedSelector</span></code></a>
and <a class="reference internal" href="alns.html#routingblocks.operators.ClusterMemberSelector" title="routingblocks.operators.ClusterMemberSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.operators.ClusterMemberSelector</span></code></a> parameters, respectively.
This allows to customize the operator for different use cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed_selector</strong> (<a class="reference internal" href="alns.html#routingblocks.operators.SeedSelector" title="routingblocks.operators.SeedSelector"><em>SeedSelector</em></a>) – The seed selector</p></li>
<li><p><strong>cluster_member_selector</strong> (<a class="reference internal" href="alns.html#routingblocks.operators.ClusterMemberSelector" title="routingblocks.operators.ClusterMemberSelector"><em>ClusterMemberSelector</em></a>) – The cluster member selector</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_removed_vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks.Evaluation</em>) – </p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p></li>
<li><p><strong>number_of_removed_vertices</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">DistanceBasedClusterMemberSelector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_radius_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_radius_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randgen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Randgen</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Clusters vertices according to their distance to the seed vertex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertices</strong> (<em>List</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a><em>]</em>) – The vertices in the instance</p></li>
<li><p><strong>get_distance</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a><em>, </em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a><em>]</em><em>, </em><em>float</em><em>]</em>) – A distance function that takes two vertices and returns their distance to each other</p></li>
<li><p><strong>min_radius_factor</strong> (<em>float</em>) – The minimum radius of the cluster as a factor of the maximum distance between any two vertices</p></li>
<li><p><strong>max_radius_factor</strong> (<em>float</em>) – The maximum radius of the cluster as a factor of the maximum distance between any two vertices</p></li>
<li><p><strong>randgen</strong> (<em>Optional</em><em>[</em><em>routingblocks.Randgen</em><em>]</em>) – A random number generator</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DistanceListItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex</strong> (<a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a>) – </p></li>
<li><p><strong>distance</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">ClusterMemberSelector</span></span></dt>
<dd><p>Selects a cluster of vertices based on a seed vertex.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">SeedSelector</span></span></dt>
<dd><p>Selects a seed vertex from a solution.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">StationVicinityRemovalOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">routingblocks.Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_radius_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_radius_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randgen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Randgen</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Station vicinity removal is a specialized cluster removal operator designed to reorder customer visits in the
vicinity of replenishment stations. The operator defines the vicinity of a station by selecting a random radius
based on a percentage of the maximum distance between vertices. It then randomly chooses a recharging station
and removes the station along with vertices within the selected radius, repeating this process until the
desired number of vertices are removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>routingblocks.Instance</em></a>) – Instance the operator will be applied to</p></li>
<li><p><strong>get_distance</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a><em>, </em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a><em>]</em><em>, </em><em>float</em><em>]</em>) – A function taking two vertices and returning the distance between them. The distance can be arbitrary, i.e., does not have to correspond to the evaluation function.</p></li>
<li><p><strong>min_radius_factor</strong> (<em>float</em>) – Minimum of the interval the radius is picked from</p></li>
<li><p><strong>max_radius_factor</strong> (<em>float</em>) – Maximum of the interval the radius is picked from</p></li>
<li><p><strong>randgen</strong> (<em>Optional</em><em>[</em><em>routingblocks.Randgen</em><em>]</em>) – Random number generator</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Station vicinity removal can be applied to any solution that contains at least one station.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_removed_vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks.Evaluation</em>) – </p></li>
<li><p><strong>solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p></li>
<li><p><strong>number_of_removed_vertices</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">StationSeedSelector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><span class="pre">routingblocks.Vertex</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randgen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Randgen</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stations</strong> (<em>List</em><em>[</em><a class="reference internal" href="instance.html#routingblocks.Vertex" title="routingblocks.Vertex"><em>routingblocks.Vertex</em></a><em>]</em>) – </p></li>
<li><p><strong>randgen</strong> (<em>Optional</em><em>[</em><em>routingblocks.Randgen</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">RelatedRemovalOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relatedness_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">move_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.operators.move_selectors.MoveSelector</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="alns.html#routingblocks.operators.RelatedVertexRemovalMove" title="routingblocks.operators.RelatedVertexRemovalMove"><span class="pre">RelatedVertexRemovalMove</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.operators.move_selectors.MoveSelector</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="alns.html#routingblocks.operators.RelatedVertexRemovalMove" title="routingblocks.operators.RelatedVertexRemovalMove"><span class="pre">RelatedVertexRemovalMove</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_seed_selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.operators.move_selectors.MoveSelector</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><span class="pre">routingblocks.Node</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes related vertices from the solution. The operator first selects an initial seed vertex.
Then, it selects the n most related vertices to the current seed vertex and adds them to the list of removed vertices.
It then selects the next seed vertex from the list of removed vertices and repeats the process until the desired number of vertices has been selected.
Finally, the operator removes the selected vertices from the solution.</p>
<p>The operator determines related vertices by using a relatedness matrix passed to the constructor.
This matrix contains a number that measures the degree of the relatedness between each pair of vertices.
The higher the number, the more related the vertices are.</p>
<p>(Initial) seed and related vertex selection is done using move selectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relatedness_matrix</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>float</em><em>]</em><em>]</em>) – The relatedness matrix. See <a class="reference internal" href="alns.html#routingblocks.operators.build_relatedness_matrix" title="routingblocks.operators.build_relatedness_matrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">build_relatedness_matrix()</span></code></a> for a way to build such a matrix.</p></li>
<li><p><strong>move_selector</strong> (<em>routingblocks.operators.move_selectors.MoveSelector</em><em>[</em><a class="reference internal" href="alns.html#routingblocks.operators.RelatedVertexRemovalMove" title="routingblocks.operators.RelatedVertexRemovalMove"><em>RelatedVertexRemovalMove</em></a><em>]</em>) – The move selector to use for selecting the vertex to remove. Receives a list of related vertices, ordered by the degree of relatedness in descending order.</p></li>
<li><p><strong>seed_selector</strong> (<em>routingblocks.operators.move_selectors.MoveSelector</em><em>[</em><a class="reference internal" href="alns.html#routingblocks.operators.RelatedVertexRemovalMove" title="routingblocks.operators.RelatedVertexRemovalMove"><em>RelatedVertexRemovalMove</em></a><em>]</em>) – The move selector to use for selecting the seed vertex.</p></li>
<li><p><strong>initial_seed_selector</strong> (<em>routingblocks.operators.move_selectors.MoveSelector</em><em>[</em><a class="reference internal" href="solution.html#routingblocks.Node" title="routingblocks.Node"><em>routingblocks.Node</em></a><em>]</em>) – The move selector to use for selecting the initial seed vertex.</p></li>
<li><p><strong>cluster_size</strong> (<em>int</em>) – The number of related vertices to remove for each seed.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_apply_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">routingblocks.Evaluation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><span class="pre">routingblocks.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_removed_vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evaluation</strong> (<em>routingblocks.Evaluation</em>) – </p></li>
<li><p><strong>_solution</strong> (<a class="reference internal" href="solution.html#routingblocks.Solution" title="routingblocks.Solution"><em>routingblocks.Solution</em></a>) – </p></li>
<li><p><strong>number_of_removed_vertices</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">MoveSelector</span></span></dt>
<dd><p>A move selector selects a move from a sequence of moves.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">RelatedVertexRemovalMove</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_id</strong> – The id of the corresponding vertex.</p></li>
<li><p><strong>relatedness</strong> – The relatedness of the vertex to the seed vertex.</p></li>
<li><p><strong>location</strong> – The location of the vertex in the solution.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">vertex_id</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">relatedness</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">location</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">build_relatedness_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><span class="pre">routingblocks.Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">relatedness_computer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Builds a relatedness matrix for the given instance and relatedness function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instance</strong> (<a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance"><em>routingblocks.Instance</em></a>) – The instance.</p></li>
<li><p><strong>relatedness_computer</strong> (<em>Callable</em><em>[</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>float</em><em>]</em>) – A function that computes the relatedness between two vertices. Takes as input the ids of the two vertices and returns a number that measures the degree of relatedness.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A matrix of relatedness values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">RandomRemovalOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><span class="pre">Random</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes random vertices from the solution. Note that the same vertex may apppear several times, i.e., if two
visits to the same vertex are removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>random</strong> (<a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><em>Random</em></a>) – The random number generator used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.operators.</span></span><span class="sig-name descname"><span class="pre">RandomInsertionOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><span class="pre">Random</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Inserts vertices at random positions in the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>random</strong> (<a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><em>Random</em></a>) – The <a class="reference internal" href="auxilliary.html#routingblocks.Random" title="routingblocks.Random"><code class="xref py py-class docutils literal notranslate"><span class="pre">routingblocks.Random</span></code></a> instance to use.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">routingblocks.utility.</span></span><span class="sig-name descname"><span class="pre">InstanceBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">create_vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">vertex_factory</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_arc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">arc_factory</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A class for building an instance of a vehicle routing problem. The builder provides methods to add vertices (depot,
customers, and stations) and arcs with their associated data. Once all the necessary data has been added, the builder
can create an instance of the problem.</p>
<p>Initializes a new InstanceBuilder object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>create_vertex</strong> (<em>Optional</em><em>[</em><em>vertex_factory</em><em>]</em>) – A factory function for creating vertex objects. Defaults to the constructor of the Vertex class.</p></li>
<li><p><strong>create_arc</strong> (<em>Optional</em><em>[</em><em>arc_factory</em><em>]</em>) – A factory function for creating arc objects. Defaults to the constructor of the Arc class.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">set_depot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_data</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Sets the depot for the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str_id</strong> (<em>str</em>) – The string identifier for the depot.</p></li>
<li><p><strong>vertex_data</strong> – Additional data associated with the depot vertex.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_customer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_data</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Adds a customer to the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str_id</strong> (<em>str</em>) – The string identifier for the customer.</p></li>
<li><p><strong>vertex_data</strong> – Additional data associated with the customer vertex.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertex_data</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Adds a station to the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str_id</strong> (<em>str</em>) – The string identifier for the station.</p></li>
<li><p><strong>vertex_data</strong> – Additional data associated with the station vertex.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arc_data</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Adds an arc between two vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>str</em>) – The string identifier for the source vertex.</p></li>
<li><p><strong>j</strong> (<em>str</em>) – The string identifier for the target vertex.</p></li>
<li><p><strong>arc_data</strong> – Additional data associated with the arc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_vertices</span></span></dt>
<dd><p>Retrieves the number of vertices in the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of vertices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Resets the InstanceBuilder, clearing all stored data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Constructs an Instance object based on the vertices and arcs added to the InstanceBuilder.
Uses vertex_factory and arc_factory to create the vertices and arcs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new Instance object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="instance.html#routingblocks.Instance" title="routingblocks.Instance">Instance</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If the InstanceBuilder does not have a depot or at least one customer.</p></li>
<li><p><strong>ValueError</strong> – If not all arcs are defined between vertices.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="development.html" class="btn btn-neutral float-left" title="Development" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="references.html" class="btn btn-neutral float-right" title="References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - 2023, Patrick Sean Klein.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>